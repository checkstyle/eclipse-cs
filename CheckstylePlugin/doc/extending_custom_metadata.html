<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "xhtml11-flat.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="CONTENT-TYPE" content="text/html; charset=UTF-8" />
        <link type="text/css" href="style.css" rel="stylesheet" />
        <title>Metadata explained</title>
    </head>

    <body>
    
        <h2>-- Metadata explained --</h2>

        <p>As you may know from the <a href="extending_custom_checks.html">previous chapter</a> you can
        provide metadata for your custom checks to enhance support for your checks inside the plug-in.
        <br />
         The structure and features of such metadata files is described below.</p>
<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;

&lt;!-- Add the following to any metadata file that is to be validated against this DTD:

&lt;!DOCTYPE checkstyle-metadata PUBLIC
    &quot;-//eclipse-cs//DTD Check Metadata 1.0//EN&quot;
    &quot;http://eclipse-cs.sourceforge.net/dtds/checkstyle-metadata_1_0.dtd&quot;&gt;
--&gt;

&lt;!-- 
Root element for every metadata definition.
--&gt;
&lt;!ELEMENT checkstyle-metadata (rule-group-metadata+)&gt;


&lt;!-- 
Used to specify a group of rules.

The &#39;name&#39; attribute is used as display name and is translatable.

The &#39;priority&#39; influences the order in which groups appear in the configuration editor.

The &#39;hidden&#39; attribute can be used to hide an entire group.
--&gt;
&lt;!ELEMENT rule-group-metadata (description?,rule-metadata*)&gt;
&lt;!ATTLIST rule-group-metadata
	name               CDATA        #REQUIRED
	priority           CDATA        #REQUIRED
	hidden             (true|false) &quot;false&quot;&gt;

&lt;!--
Used to to provide a textual description for the element.
The content might be translatable.
--&gt;
&lt;!ELEMENT description (#PCDATA)&gt;


&lt;!-- 
'rule-metadata' elements are used to define the metadata for a check (or filter) module.
The 'name' attribute is used as display name and is translatable.

The 'internal-name' attribute defines the logical name of the module.
The internal name must be unique.

The 'checkstyle-module-name' can be used if the internal-name differs from the actual name
	of the checkstyle module that needs to be written to the checkstyle configuration file.
	Most likely this will only be used by users adopting checkstyle for other languages than
	java and want to reuse existing implementations of standard checkstyle checks.
	
The 'parent' element defines if the module is a file set check (Checker as parent)
	or a regular 'TreeWalker' check.
		
The 'hasSeverity' attribute specifies if a module has a severity property that can be set.
Some modules (like filters) have no severity property.
		
The 'hidden' attribute is used to hide a module, so it cannot be seen or 
	configured in the configuration editor. This is only used for some special modules
	like FileContentsHolder. The attribut defaults to 'false'.
		
The 'deletable' attribute is used to specify if the module can be removed from the 
	configuration via the configuration editor. This only makes sense for some 
	special modules like Checker or TreeWalker, which must be present. Therefore
	this attribute default to 'false'.

The 'singleton' module is used to specify if the module should occur only once in
	a checkstyle configuration. This will be taken into account by the configuration editor.
--&gt;
&lt;!ELEMENT rule-metadata (alternative-name+,description?,property-metadata*)&gt;
&lt;!ATTLIST rule-metadata
	name                    CDATA           #REQUIRED
	internal-name           NMTOKEN         #REQUIRED
	checkstyle-module-name  NMTOKEN         #IMPLIED
	parent                  NMTOKEN         #REQUIRED
	hasSeverity             (true|false)    &quot;true&quot;
	hidden                  (true|false)    &quot;false&quot;
	deletable               (true|false)    &quot;true&quot;
	singleton               (true|false)    &quot;false&quot;&gt;


&lt;!-- 
Every &#39;rule-metadata&#39; element must have at least one &#39;alternative-name&#39; child 
element, which describes under which name the module might occur in a configuration
file as well. As you may know you can specify modules in a Checkstyle configuration
file using the logical module name or the fully qualified class name.
This means that this element is used to map the fully qualified module class name 
to this module.
You are able to provide multiple alternative names, which might be useful if
your package structure for your modules changed over time. In this case specify
the old qualified class names for your module as &#39;alternative-name&#39; element.
The plug-in is then able to load even Checkstyle configuration files where your old
module names are used.
--&gt;
&lt;!ELEMENT alternative-name EMPTY&gt;
&lt;!ATTLIST alternative-name
	internal-name	CDATA	#REQUIRED&gt;


&lt;!--
&#39;property-metadata&#39; elements are used to describe the properties of a checkstyle
module. Properties described this way can then be configured using the plug-ins
configuration editor.

The &#39;name&#39; attributes specifies the name of the property.

The &#39;datatype&#39; attribute determines which kind of data the property contains.

The &#39;default&#39; attribute is used to specify the default value of the property.

Properties of data type &#39;MultiCheck&#39; and &#39;SingleSelect&#39; can (better must) be provided
with an &#39;enumeration&#39; child element which specifies the valid enumeration values for
this property.
--&gt;
&lt;!ELEMENT property-metadata(description?,enumeration?)&gt;
&lt;!ATTLIST property-metadata
	name            NMTOKEN	#REQUIRED
	datatype        (Boolean|Integer|String|Regex|SingleSelect|MultiCheck|File|Hidden) #REQUIRED
	default-value   CDATA	#IMPLIED&gt;


&lt;!--
The &#39;enumeration&#39; element is used to provide valid enumeration values for &#39;MultiCheck&#39;
and &#39;SingleSelect&#39; properties.
Either the enumeration values are defined using &#39;property-value-option&#39; child elements
or by an option provider.
An option provider is a java class that implements the interface
&#39;com.atlassw.tools.eclipse.checkstyle.config.meta.IOptionProvider&#39; and provides the 
enumeration values via implementation. This can be useful for providing large amounts
of enumeration values (for instance all checkstyle tokens) or reoccurring sequences of
enumeration values (for instance the java visibility values).
The option provider and &#39;property-value-option&#39; elements can be mixed together to build
a single enumeration.
--&gt;
&lt;!ELEMENT enumeration (property-value-option*)&gt;
&lt;!ATTLIST enumeration
	option-provider	NMTOKEN	#IMPLIED&gt;


&lt;!--
Specifies a single enumeration value.
--&gt;
&lt;!ELEMENT property-value-option EMPTY&gt;
&lt;!ATTLIST property-value-option
	value	CDATA	#REQUIRED&gt;             
       
</pre>
    </body>
</html>

